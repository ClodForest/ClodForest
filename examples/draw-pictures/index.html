<!DOCTYPE html>
<html>
<head>
    <title>Parametric Function Playground</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #222; color: #fff; text-align: center; }
        canvas { border: 2px solid #555; margin: 20px; background: #000; }
        .controls { margin: 20px; }
        button { background: #444; color: #fff; border: 1px solid #666; padding: 10px 20px; margin: 5px; cursor: pointer; border-radius: 5px; }
        button:hover { background: #555; }
        textarea { width: 100%; background: #333; color: #fff; border: 1px solid #666; padding: 10px; font-family: monospace; }
        .editor-panel { display: flex; gap: 20px; margin: 20px 0; }
        .editor-panel > div { flex: 1; }
        .editor-panel h3 { margin-bottom: 5px; }
        .editor-panel p { font-size: 12px; color: #ccc; margin: 5px 0; }
    </style>
</head>
<body>
    <h2>ðŸŒˆ Parametric Function Playground</h2>
    <p>Edit mathematical functions below - auto-compiles on input!</p>
    
    <div class="editor-panel">
        <div>
            <h3>Position Function</h3>
            <p>Returns {x, y} coordinates in range [-1, 1]</p>
            <textarea id="positionCode" rows="6">const tRadians = t * 2 * PI;
return {
  x: sin(tRadians) * 2,
  y: cos(tRadians) * 3
};</textarea>
        </div>
        
        <div>
            <h3>Color Function</h3>
            <p>Returns {r, g, b, a} values in range [0, 1]</p>
            <textarea id="colorCode" rows="6">const oneThirdCircle = (whichThird) => (Tau / 3) * whichThird;
return {
  r: colorClamp(sin(t + oneThirdCircle(0))),
  g: colorClamp(sin(t + oneThirdCircle(1))), 
  b: colorClamp(sin(t + oneThirdCircle(2))),
  a: 1
};</textarea>
        </div>
    </div>
    
    <canvas id="spiralCanvas" width="400" height="400"></canvas>
    
    <div class="controls">
        <button onclick="loadPreset('original')">ðŸŽ¨ Original</button>
        <button onclick="loadPreset('spiral')">ðŸŒ€ Spiral</button>
        <button onclick="loadPreset('lissajous')">âˆž Lissajous</button>
        <button onclick="loadPreset('rose')">ðŸŒ¹ Rose</button>
        <button onclick="clearCanvas()">Clear</button>
    </div>
    
    <p id="status">Ready to compile!</p>

    <script src="ui-component.js"></script>
    <script src="presets-component.js"></script>
    <script src="sampler-component.js"></script>
    <script src="renderer-component.js"></script>
    
    <script>
        if (compileUserFunctions()) {
            renderCurrent();
        }
    </script>
</body>
</html>
